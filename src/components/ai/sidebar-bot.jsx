'use client'
import { useState } from 'react';

import AIChatbot from '@/components/ai/chatbot';

export default function SidebarChatbot({ startHidden = false }) {

  const [hidden, setHidden] = useState(startHidden);

  return (
    <>
      <svg onClick={() => setHidden(!hidden)} className="mt-6 cursor-pointer" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="0.5" y="0.5" width="47" height="47" rx="23.5" fill="#CCDFE3"/>
        <rect x="0.5" y="0.5" width="47" height="47" rx="23.5" stroke="#A0C6CD"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.9944 14.7043C21.2893 12.2785 25.7175 11.9735 29.301 14.0705C31.4146 15.3095 33.0979 17.307 33.9241 19.8127L34.0774 20.3205L34.1213 20.4816C35.3091 25.0646 32.6366 29.8337 28.095 31.1144L27.9553 31.1535C25.7147 31.7441 23.4497 31.373 21.5969 30.2892C18.1337 28.2628 16.2127 23.708 18.3313 19.9719C20.1452 16.774 24.1863 15.5865 27.3801 17.4543C28.808 18.2897 29.9238 19.6706 30.4045 21.4025L30.4338 21.5099C30.6495 22.3429 30.6336 23.1627 30.4387 23.9142C30.2289 24.7215 29.8121 25.4499 29.2571 26.0383C28.5248 26.8143 27.545 27.357 26.4661 27.5236C25.5381 27.667 24.5459 27.5354 23.5901 27.048L23.3996 26.9455C22.7381 26.5725 22.1474 26.0288 21.7512 25.3625C21.3538 24.6937 21.173 23.947 21.2366 23.1662C21.3294 22.0164 21.997 21.2001 22.8303 20.7746L22.9748 20.7053C23.7087 20.3767 24.5819 20.329 25.3391 20.6662C26.0745 20.9937 26.6403 21.6553 26.7668 22.6486C26.8242 23.0997 26.524 23.5121 26.092 23.6174L26.0041 23.634C25.5236 23.7022 25.0755 23.3736 25.0139 22.8898C24.9695 22.5423 24.7967 22.35 24.5969 22.2609C24.3103 22.1342 23.9251 22.1685 23.6233 22.3224C23.296 22.4899 23.0354 22.8124 22.9973 23.2834C22.964 23.6968 23.0664 24.1037 23.2805 24.464L23.3752 24.6115C23.6091 24.9458 23.9275 25.2178 24.2913 25.423C24.9424 25.7899 25.6055 25.8896 26.2112 25.7961C26.8842 25.6921 27.5045 25.35 27.9729 24.8537C28.3294 24.4753 28.5955 24.0105 28.7278 23.5002L28.7688 23.3205C28.8514 22.8963 28.8433 22.4397 28.7219 21.9709L28.6995 21.8859C28.3425 20.5982 27.5183 19.5768 26.468 18.9631C24.1416 17.6028 21.2034 18.4628 19.8723 20.8088C18.2617 23.6493 19.805 27.1999 22.509 28.7824C23.9714 29.6374 25.7507 29.9304 27.5129 29.466L27.6282 29.4357C31.2455 28.4138 33.3577 24.5997 32.4094 20.9416L32.3733 20.8058C31.7465 18.5311 30.2998 16.7224 28.4514 15.6193L28.385 15.5803C25.4255 13.8484 21.7633 14.091 19.0354 16.0998C18.1796 16.73 17.4477 17.5121 16.8694 18.3976C14.6284 21.8303 14.9725 25.9407 17.3557 29.1779C18.1137 30.208 19.0609 31.1145 20.1438 31.8332C22.494 33.3937 25.4817 34.0616 28.5793 33.1984L28.6663 33.1779C29.1047 33.0995 29.5439 33.3581 29.6653 33.798C29.794 34.2662 29.5099 34.7455 29.0452 34.8771C25.4005 35.8936 21.8903 35.1105 19.1428 33.2863C17.8947 32.4579 16.801 31.4108 15.9231 30.218C13.12 26.4095 12.7372 21.5248 15.3899 17.4621C16.0811 16.4041 16.9603 15.4655 17.9944 14.7043Z" fill="#29646F"/>
      </svg>
      { hidden ? false : <AIChatbot startMinimized={false} startClosed={false} />}
    </>
  )
}
